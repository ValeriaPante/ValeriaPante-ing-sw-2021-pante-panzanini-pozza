


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="htmlId">
<head>
  <title>Coverage Report :: Printer</title>
  <style type="text/css">
    @import "../../.css/coverage.css";
  </style>
</head>

<body>
<div class="header"></div>

<div class="content">
<div class="breadCrumbs">
    [ <a href="../../index.html">all classes</a> ]
    [ <a href="../index.html">it.polimi.ingsw.View.CLI.Printers</a> ]
</div>

<h1>Coverage Summary for Class: Printer (it.polimi.ingsw.View.CLI.Printers)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Printer</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/ 1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (26/ 26)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    98,5%
  </span>
  <span class="absValue">
    (192/ 195)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<div class="sourceCode"><i>1</i>&nbsp;package it.polimi.ingsw.View.CLI.Printers;
<i>2</i>&nbsp;
<i>3</i>&nbsp;import it.polimi.ingsw.Enums.ActionTokenType;
<i>4</i>&nbsp;import it.polimi.ingsw.Enums.Resource;
<i>5</i>&nbsp;import it.polimi.ingsw.Model.Cards.ActionToken;
<i>6</i>&nbsp;import it.polimi.ingsw.View.CLI.Color;
<i>7</i>&nbsp;import it.polimi.ingsw.View.CLI.SimplifiedFaithTrack;
<i>8</i>&nbsp;import it.polimi.ingsw.View.ClientModel.Game;
<i>9</i>&nbsp;import it.polimi.ingsw.View.ClientModel.SimplifiedPlayer;
<i>10</i>&nbsp;
<i>11</i>&nbsp;import java.util.ArrayList;
<i>12</i>&nbsp;
<i>13</i>&nbsp;/**
<i>14</i>&nbsp; * This class is replacing &quot;System.out.print...&quot; and contains the logic
<i>15</i>&nbsp; * to print all the elements of the game. Each public method is &quot;synchronized&quot;
<i>16</i>&nbsp; */
<i>17</i>&nbsp;public class Printer {
<i>18</i>&nbsp;    private final Game model;
<i>19</i>&nbsp;    private final SimplifiedFaithTrack simplifiedFaithTrack;
<i>20</i>&nbsp;    private final DevCardPrinter devCardPrinter;
<i>21</i>&nbsp;    private final FaithTrackPrinter faithTrackPrinter;
<i>22</i>&nbsp;    private final LeaderCardPrinter leaderCardPrinter;
<i>23</i>&nbsp;    private final LobbyPrinter lobbyPrinter;
<i>24</i>&nbsp;    private final MarketPrinter marketPrinter;
<i>25</i>&nbsp;    private final ShelvesPrinter shelvesPrinter;
<i>26</i>&nbsp;    private final StrongBoxPrinter strongBoxPrinter;
<i>27</i>&nbsp;
<i>28</i>&nbsp;    /**
<i>29</i>&nbsp;     * @param model the model used in the game
<i>30</i>&nbsp;     * @param simplifiedFaithTrack the faith track used in the game
<i>31</i>&nbsp;     */
<b class="fc"><i>32</i>&nbsp;    public Printer(Game model, SimplifiedFaithTrack simplifiedFaithTrack){</b>
<b class="fc"><i>33</i>&nbsp;        this.model = model;</b>
<b class="fc"><i>34</i>&nbsp;        this.simplifiedFaithTrack = simplifiedFaithTrack;</b>
<b class="fc"><i>35</i>&nbsp;        this.devCardPrinter = new DevCardPrinter();</b>
<b class="fc"><i>36</i>&nbsp;        this.faithTrackPrinter = new FaithTrackPrinter();</b>
<b class="fc"><i>37</i>&nbsp;        this.leaderCardPrinter = new LeaderCardPrinter();</b>
<b class="fc"><i>38</i>&nbsp;        this.lobbyPrinter = new LobbyPrinter();</b>
<b class="fc"><i>39</i>&nbsp;        this.marketPrinter = new MarketPrinter();</b>
<b class="fc"><i>40</i>&nbsp;        this.shelvesPrinter = new ShelvesPrinter();</b>
<b class="fc"><i>41</i>&nbsp;        this.strongBoxPrinter = new StrongBoxPrinter();</b>
<b class="fc"><i>42</i>&nbsp;    }</b>
<i>43</i>&nbsp;
<i>44</i>&nbsp;    /**
<i>45</i>&nbsp;     * Interprets the requests coming from the player (console)
<i>46</i>&nbsp;     * when the game is started. To each request correspond a printing
<i>47</i>&nbsp;     * on the terminal: if the request is illegal it will be directly printed
<i>48</i>&nbsp;     * a message error on the terminal, otherwise it will be printed what requested
<i>49</i>&nbsp;     * @param request it is a string respecting a particular format (this
<i>50</i>&nbsp;     *                property must be checked before calling this method,
<i>51</i>&nbsp;     *                with an &quot;InputManager&quot; for example)
<i>52</i>&nbsp;     */
<i>53</i>&nbsp;    public synchronized void inGamePrintRequest(String request){
<b class="fc"><i>54</i>&nbsp;        if (request.equals(&quot;USERNAMES&quot;)){</b>
<b class="fc"><i>55</i>&nbsp;            if(model.getPLayersID().size() == 1){</b>
<b class="fc"><i>56</i>&nbsp;                printError(&quot;You are playing a single player game&quot;);</b>
<i>57</i>&nbsp;            } else {
<b class="fc"><i>58</i>&nbsp;                System.out.println(&quot;\nHere are all the players&#39; usernames of the game:&quot;);</b>
<b class="fc"><i>59</i>&nbsp;                for (int id : model.getPLayersID()){</b>
<b class="fc"><i>60</i>&nbsp;                    System.out.println(&quot;\t&quot;+</b>
<b class="fc"><i>61</i>&nbsp;                            &quot;USER NAME: &quot; + Color.colourText(model.getPlayerFromId(id).getUsername(), &quot;YELLOW&quot;) +</b>
<i>62</i>&nbsp;                            &quot;\t\t&quot; + &quot;ID:&quot; + id);
<b class="fc"><i>63</i>&nbsp;                }</b>
<i>64</i>&nbsp;            }
<b class="fc"><i>65</i>&nbsp;            return;</b>
<i>66</i>&nbsp;        }
<i>67</i>&nbsp;
<b class="fc"><i>68</i>&nbsp;        if (request.startsWith(&quot;MARKET&quot;)){</b>
<b class="fc"><i>69</i>&nbsp;            if (request.equals(&quot;MARKET LEGEND&quot;)){</b>
<b class="fc"><i>70</i>&nbsp;                marketPrinter.printLegend();</b>
<b class="fc"><i>71</i>&nbsp;                return;</b>
<i>72</i>&nbsp;            }
<i>73</i>&nbsp;
<b class="fc"><i>74</i>&nbsp;            marketPrinter.printMarket(model.getGrid(), model.getSlide());</b>
<b class="fc"><i>75</i>&nbsp;            return;</b>
<i>76</i>&nbsp;        }
<i>77</i>&nbsp;
<b class="fc"><i>78</i>&nbsp;        if (request.equals(&quot;DEV CARDS ON TABLE&quot;)){</b>
<b class="fc"><i>79</i>&nbsp;            devCardPrinter.printDevDecks(model.getDevDecks());</b>
<b class="fc"><i>80</i>&nbsp;            return;</b>
<i>81</i>&nbsp;        }
<i>82</i>&nbsp;
<b class="fc"><i>83</i>&nbsp;        if (request.startsWith(&quot;FAITH TRACK&quot;)){</b>
<b class="fc"><i>84</i>&nbsp;            switch(request){</b>
<i>85</i>&nbsp;                case &quot;FAITH TRACK&quot;:
<b class="fc"><i>86</i>&nbsp;                    faithTrackPrinter.printTrack(model.getPLayersID(), model.getUsernames(), simplifiedFaithTrack);</b>
<b class="fc"><i>87</i>&nbsp;                    return;</b>
<i>88</i>&nbsp;                case &quot;FAITH TRACK POINTS&quot;:
<b class="fc"><i>89</i>&nbsp;                    faithTrackPrinter.printPointsForPosition();</b>
<b class="fc"><i>90</i>&nbsp;                    return;</b>
<i>91</i>&nbsp;                case &quot;FAITH TRACK VATICAN RELATIONS&quot;:
<b class="fc"><i>92</i>&nbsp;                    faithTrackPrinter.printVaticanRelations(model.getPLayersID(), model.getUsernames(), simplifiedFaithTrack);</b>
<b class="fc"><i>93</i>&nbsp;                    return;</b>
<i>94</i>&nbsp;                default:
<b class="nc"><i>95</i>&nbsp;                    return;</b>
<i>96</i>&nbsp;            }
<i>97</i>&nbsp;        }
<i>98</i>&nbsp;
<b class="fc"><i>99</i>&nbsp;        SimplifiedPlayer player = model.getPlayerFromId(model.getLocalPlayerId());</b>
<i>100</i>&nbsp;
<b class="fc"><i>101</i>&nbsp;        if (request.contains(&quot;@&quot;)){</b>
<b class="fc"><i>102</i>&nbsp;            if (model.getNumberOfPlayers() == 1){</b>
<b class="fc"><i>103</i>&nbsp;                printError(&quot;You cannot use this function in single player, please use the correct command&quot;);</b>
<b class="fc"><i>104</i>&nbsp;                return;</b>
<i>105</i>&nbsp;            }
<i>106</i>&nbsp;
<b class="fc"><i>107</i>&nbsp;            String[] requestParts = request.split(&quot;@&quot;);</b>
<b class="fc"><i>108</i>&nbsp;            int playerID = Integer.parseInt(requestParts[1]);</b>
<i>109</i>&nbsp;
<b class="fc"><i>110</i>&nbsp;            if (!model.getPLayersID().contains(playerID)){</b>
<b class="fc"><i>111</i>&nbsp;                printError(&quot;There is no player with such an id (&quot;+ playerID +&quot;), please, retry...&quot;);</b>
<b class="fc"><i>112</i>&nbsp;                return;</b>
<i>113</i>&nbsp;            }
<i>114</i>&nbsp;
<b class="fc"><i>115</i>&nbsp;            if(model.getLocalPlayerId() == playerID){</b>
<b class="fc"><i>116</i>&nbsp;                printError(&quot;You cannot use this function on yourself, please enter the correct command!&quot;);</b>
<b class="fc"><i>117</i>&nbsp;                return;</b>
<i>118</i>&nbsp;            }
<i>119</i>&nbsp;
<b class="fc"><i>120</i>&nbsp;            player = model.getPlayerFromId(playerID);</b>
<b class="fc"><i>121</i>&nbsp;            request = requestParts[0].trim();</b>
<i>122</i>&nbsp;        }
<i>123</i>&nbsp;
<b class="fc"><i>124</i>&nbsp;        if (request.equals(&quot;SHELVES&quot;)){</b>
<b class="fc"><i>125</i>&nbsp;            shelvesPrinter.printShelves(player.getShelf(0), player.getShelf(1), player.getShelf(2));</b>
<b class="fc"><i>126</i>&nbsp;            return;</b>
<i>127</i>&nbsp;        }
<i>128</i>&nbsp;
<b class="fc"><i>129</i>&nbsp;        if (request.equals(&quot;STRONGBOX&quot;)){</b>
<b class="fc"><i>130</i>&nbsp;            strongBoxPrinter.printStrongBox(player.getStrongbox());</b>
<b class="fc"><i>131</i>&nbsp;            return;</b>
<i>132</i>&nbsp;        }
<i>133</i>&nbsp;
<b class="fc"><i>134</i>&nbsp;        if (request.equals(&quot;SUPPORT CONTAINER&quot;)){</b>
<b class="fc"><i>135</i>&nbsp;            strongBoxPrinter.printSupportContainer(player.getSupportContainer());</b>
<b class="fc"><i>136</i>&nbsp;            return;</b>
<i>137</i>&nbsp;        }
<i>138</i>&nbsp;
<b class="fc"><i>139</i>&nbsp;        if (request.startsWith(&quot;DEV SLOT &quot;)){</b>
<b class="fc"><i>140</i>&nbsp;            request = request.replace(&quot;DEV SLOT &quot;,&quot;&quot;);</b>
<i>141</i>&nbsp;            boolean topCardOnly;
<b class="fc"><i>142</i>&nbsp;            if (request.contains(&quot; CONTENT&quot;)){</b>
<b class="fc"><i>143</i>&nbsp;                request = request.replace(&quot; CONTENT&quot;,&quot;&quot;);</b>
<b class="fc"><i>144</i>&nbsp;                topCardOnly = false;</b>
<i>145</i>&nbsp;            } else {
<b class="fc"><i>146</i>&nbsp;                request = request.replace(&quot; TOP&quot;,&quot;&quot;);</b>
<b class="fc"><i>147</i>&nbsp;                topCardOnly = true;</b>
<i>148</i>&nbsp;            }
<b class="fc"><i>149</i>&nbsp;            devCardPrinter.printSingleDevSlot(player.getDevSlots()[Integer.parseInt(request)-1], topCardOnly);</b>
<b class="fc"><i>150</i>&nbsp;            return;</b>
<i>151</i>&nbsp;        }
<i>152</i>&nbsp;
<b class="fc"><i>153</i>&nbsp;        if (request.startsWith(&quot;DEV SLOTS&quot;)){</b>
<b class="fc"><i>154</i>&nbsp;            boolean topCardOnly = request.contains(&quot;TOP&quot;);</b>
<b class="fc"><i>155</i>&nbsp;            devCardPrinter.printDevSlots(player.getDevSlots(), topCardOnly);</b>
<b class="fc"><i>156</i>&nbsp;            return;</b>
<i>157</i>&nbsp;        }
<i>158</i>&nbsp;
<b class="fc"><i>159</i>&nbsp;        if (request.equals(&quot;LEADER CARDS&quot;)){</b>
<b class="fc"><i>160</i>&nbsp;            ArrayList&lt;Integer&gt; leaderCardList = player.getLeaderCards();</b>
<b class="fc"><i>161</i>&nbsp;            switch(leaderCardList.size()){</b>
<i>162</i>&nbsp;                case 0:
<b class="fc"><i>163</i>&nbsp;                    if (player.equals(model.getPlayerFromId(model.getLocalPlayerId())))</b>
<b class="fc"><i>164</i>&nbsp;                        System.out.println(&quot;\n&quot; + Color.colourText(&quot;You do not own any leader card anymore!&quot;,&quot;YELLOW&quot;));</b>
<i>165</i>&nbsp;                    else
<b class="fc"><i>166</i>&nbsp;                        System.out.println(&quot;\n&quot; + Color.colourText(player.getUsername(),&quot;YELLOW&quot;)+&quot; has not played any leader card yet!&quot;);</b>
<b class="fc"><i>167</i>&nbsp;                    return;</b>
<i>168</i>&nbsp;                case 1:
<b class="fc"><i>169</i>&nbsp;                    if (player.equals(model.getPlayerFromId(model.getLocalPlayerId())))</b>
<b class="fc"><i>170</i>&nbsp;                        System.out.print(&quot;\n&quot; + &quot;Here is the only leader card you own:&quot; + &quot;\n&quot;);</b>
<i>171</i>&nbsp;                    else
<b class="fc"><i>172</i>&nbsp;                        System.out.print(&quot;\n&quot; + Color.colourText(player.getUsername(),&quot;YELLOW&quot;)+&quot; has played only this card:&quot;);</b>
<b class="fc"><i>173</i>&nbsp;                    break;</b>
<i>174</i>&nbsp;                case 2:
<b class="fc"><i>175</i>&nbsp;                    if (player.equals(model.getPlayerFromId(model.getLocalPlayerId())))</b>
<b class="fc"><i>176</i>&nbsp;                        System.out.print(&quot;\n&quot; + &quot;Here are the leader cards you own:&quot; + &quot;\n&quot;);</b>
<i>177</i>&nbsp;                    else
<b class="fc"><i>178</i>&nbsp;                        System.out.print(&quot;\n&quot; + Color.colourText(player.getUsername(),&quot;YELLOW&quot;)+&quot; has played this two cards:&quot;);</b>
<b class="fc"><i>179</i>&nbsp;                    break;</b>
<i>180</i>&nbsp;                default:
<b class="nc"><i>181</i>&nbsp;                    return;</b>
<i>182</i>&nbsp;            }
<b class="fc"><i>183</i>&nbsp;            for (int id : leaderCardList)</b>
<b class="fc"><i>184</i>&nbsp;                leaderCardPrinter.printFromID(id,player.getLeaderStorage(id));</b>
<b class="fc"><i>185</i>&nbsp;            return;</b>
<i>186</i>&nbsp;        }
<b class="nc"><i>187</i>&nbsp;    }</b>
<i>188</i>&nbsp;
<i>189</i>&nbsp;    /**
<i>190</i>&nbsp;     * Interprets the requests coming from the player (console)
<i>191</i>&nbsp;     * when the game is not started yet (while still in lobbies).
<i>192</i>&nbsp;     * To each request correspond a printing on the terminal:
<i>193</i>&nbsp;     * if the request is illegal it will be directly printed a message error on the terminal,
<i>194</i>&nbsp;     * otherwise it will be printed what requested
<i>195</i>&nbsp;     * @param request it is a string respecting a particular format (this
<i>196</i>&nbsp;     *                property must be checked before calling this method,
<i>197</i>&nbsp;     *                with an &quot;InputManager&quot; for example)
<i>198</i>&nbsp;     */
<i>199</i>&nbsp;    public synchronized void preGamePrintRequest(String request){
<b class="fc"><i>200</i>&nbsp;        switch(request){</b>
<i>201</i>&nbsp;            case &quot;MY LOBBY&quot;:
<b class="fc"><i>202</i>&nbsp;                if (model.getLocalPlayerLobbyId() == 0)</b>
<b class="fc"><i>203</i>&nbsp;                    printError(&quot;You are not inside a lobby yet, please pick one&quot;);</b>
<i>204</i>&nbsp;                else {
<b class="fc"><i>205</i>&nbsp;                    System.out.println(&quot;Here is your lobby:&quot;);</b>
<b class="fc"><i>206</i>&nbsp;                    lobbyPrinter.printLobby(model.getLocalPlayerLobbyId(), model.getLobbies().get(model.getLocalPlayerLobbyId()));</b>
<i>207</i>&nbsp;                }
<b class="fc"><i>208</i>&nbsp;                break;</b>
<i>209</i>&nbsp;
<i>210</i>&nbsp;            case &quot;ALL LOBBIES&quot;:
<b class="fc"><i>211</i>&nbsp;                if (!model.getLobbies().isEmpty()){</b>
<b class="fc"><i>212</i>&nbsp;                    System.out.println(&quot;Here are all the lobbies:&quot;);</b>
<b class="fc"><i>213</i>&nbsp;                    lobbyPrinter.printAllLobbies(model.getLobbies());</b>
<i>214</i>&nbsp;                } else {
<b class="fc"><i>215</i>&nbsp;                    System.out.println(&quot;There are &quot; + Color.colourText(&quot;NO LOBBIES&quot;, &quot;RED&quot;) +</b>
<b class="fc"><i>216</i>&nbsp;                            &quot; available right now! If you want to play, &quot; + Color.colourText(&quot;create one!&quot;, &quot;GREEN&quot;));</b>
<i>217</i>&nbsp;                }
<b class="fc"><i>218</i>&nbsp;                break;</b>
<i>219</i>&nbsp;
<i>220</i>&nbsp;            default:
<i>221</i>&nbsp;                break;
<i>222</i>&nbsp;        }
<b class="fc"><i>223</i>&nbsp;    }</b>
<i>224</i>&nbsp;
<i>225</i>&nbsp;    /**
<i>226</i>&nbsp;     *Prints a message as an error on the terminal
<i>227</i>&nbsp;     * @param errorText the text to be displayed on terminal as error
<i>228</i>&nbsp;     */
<i>229</i>&nbsp;    public synchronized void printError(String errorText){
<b class="fc"><i>230</i>&nbsp;        System.out.println(Color.colourText(&quot;ERROR! &quot;+ errorText, &quot;RED&quot;));</b>
<b class="fc"><i>231</i>&nbsp;    }</b>
<i>232</i>&nbsp;
<i>233</i>&nbsp;    /**
<i>234</i>&nbsp;     *Prints, on the terminal, the state of the notification: if they will be shown or hidden, from now on
<i>235</i>&nbsp;     * @param showNotifications if true the notification will be shown on terminal, else, if false,
<i>236</i>&nbsp;     *                          they wil be hidden and not printed (this class is not implementing that logic, it only
<i>237</i>&nbsp;     *                          prints on the terminal this information)
<i>238</i>&nbsp;     */
<i>239</i>&nbsp;    public synchronized void printNotificationState(boolean showNotifications){
<b class="fc"><i>240</i>&nbsp;        System.out.println(&quot;Notifications are now &quot; +</b>
<b class="fc"><i>241</i>&nbsp;                (showNotifications ? Color.colourText(&quot;ACTIVATED&quot;,&quot;GREEN&quot;) : Color.colourText(&quot;DEACTIVATED&quot;,&quot;RED&quot;)));</b>
<b class="fc"><i>242</i>&nbsp;    }</b>
<i>243</i>&nbsp;
<i>244</i>&nbsp;    /**
<i>245</i>&nbsp;     *Prints on the terminal that something changed in a lobby
<i>246</i>&nbsp;     * @param lobbyId unique identifier of the lobby that has something new:
<i>247</i>&nbsp;     *                the players inside are changed or it is a new lobby
<i>248</i>&nbsp;     */
<i>249</i>&nbsp;    public synchronized void notifyLobbyChange(int lobbyId){
<b class="fc"><i>250</i>&nbsp;        if (lobbyId == model.getLocalPlayerLobbyId()){</b>
<b class="fc"><i>251</i>&nbsp;            System.out.println(&quot;\nYour lobby has &quot;+ Color.colourText(&quot;changed&quot;, &quot;YELLOW&quot;));</b>
<i>252</i>&nbsp;        } else {
<b class="fc"><i>253</i>&nbsp;            System.out.println(&quot;\nThere is something new with lobby number &quot;+ Color.colourInt(lobbyId, &quot;YELLOW&quot;));</b>
<i>254</i>&nbsp;        }
<b class="fc"><i>255</i>&nbsp;    }</b>
<i>256</i>&nbsp;
<i>257</i>&nbsp;    /**
<i>258</i>&nbsp;     *Prints on the terminal that a lobby has been removed from the ones available on the server
<i>259</i>&nbsp;     * @param lobbyID unique identifier of the lobby that was removed from server
<i>260</i>&nbsp;     */
<i>261</i>&nbsp;    public synchronized void notifyLobbyRemoval (int lobbyID){
<b class="fc"><i>262</i>&nbsp;        System.out.println(&quot;Lobby number &quot; + Color.colourInt(lobbyID,&quot;RED&quot;) + &quot; has been &quot;+ Color.colourText(&quot;removed&quot;,&quot;RED&quot;) +&quot; so it is no longer available&quot;);</b>
<b class="fc"><i>263</i>&nbsp;    }</b>
<i>264</i>&nbsp;
<i>265</i>&nbsp;    /**
<i>266</i>&nbsp;     *Prints on the terminal that the player has received
<i>267</i>&nbsp;     * the leader cards an has to pick and choose which to keep
<i>268</i>&nbsp;     * (initialization of the game)
<i>269</i>&nbsp;     */
<i>270</i>&nbsp;    public synchronized void notifyChooseLeaderCards(){
<b class="fc"><i>271</i>&nbsp;        System.out.println(&quot;You have just received your four leader cards! Here they are:&quot;);</b>
<b class="fc"><i>272</i>&nbsp;        for (Integer i : model.getPlayerFromId(model.getLocalPlayerId()).getLeaderCards())</b>
<b class="fc"><i>273</i>&nbsp;            leaderCardPrinter.printFromID(i, null);</b>
<b class="fc"><i>274</i>&nbsp;        System.out.println(&quot;Pick and discard two of them before starting. \n&quot; +</b>
<i>275</i>&nbsp;                &quot;Write down their ids, one by one:&quot;);
<b class="fc"><i>276</i>&nbsp;    }</b>
<i>277</i>&nbsp;
<i>278</i>&nbsp;    /**
<i>279</i>&nbsp;     *Prints on terminal that the player
<i>280</i>&nbsp;     * has to decide which resources he wants and in which shelf to put them
<i>281</i>&nbsp;     * (initialization of the game)
<i>282</i>&nbsp;     */
<i>283</i>&nbsp;    public synchronized void notifyChooseInitialRes(){
<b class="fc"><i>284</i>&nbsp;        System.out.print(&quot;\n&quot;+&quot;Setting up is almost done, you only have to &quot; + Color.colourText(&quot;choose &quot;, &quot;YELLOW&quot;));</b>
<i>285</i>&nbsp;        int resRequired;
<b class="fc"><i>286</i>&nbsp;        if (model.getLocalPlayerIndex() == 3){</b>
<b class="fc"><i>287</i>&nbsp;            resRequired = 2;</b>
<b class="fc"><i>288</i>&nbsp;            System.out.print(Color.colourText(resRequired + &quot; resources &quot;, &quot;YELLOW&quot;));</b>
<i>289</i>&nbsp;        } else {
<b class="fc"><i>290</i>&nbsp;            resRequired = 1;</b>
<b class="fc"><i>291</i>&nbsp;            System.out.print(Color.colourText(resRequired + &quot; resource &quot;,&quot;YELLOW&quot;));</b>
<i>292</i>&nbsp;        }
<b class="fc"><i>293</i>&nbsp;        System.out.println(&quot;(between &quot; + Color.colourText(stringLegalResources(), &quot;YELLOW&quot;) + &quot;) and decide in which shelf you want to put them. \n&quot; +</b>
<i>294</i>&nbsp;                &quot;Please list them one by one with their full name:&quot;);
<b class="fc"><i>295</i>&nbsp;    }</b>
<i>296</i>&nbsp;
<i>297</i>&nbsp;    /**
<i>298</i>&nbsp;     * Creates a string containing the resources that a player can pick
<i>299</i>&nbsp;     * @return a string, in the right format, with all and only the resources
<i>300</i>&nbsp;     * that a player can pick typing on terminal
<i>301</i>&nbsp;     */
<i>302</i>&nbsp;    private String stringLegalResources(){
<b class="fc"><i>303</i>&nbsp;        boolean printedOne = false;</b>
<b class="fc"><i>304</i>&nbsp;        StringBuilder listResources = new StringBuilder();</b>
<b class="fc"><i>305</i>&nbsp;        for (Resource r : Resource.values()) {</b>
<b class="fc"><i>306</i>&nbsp;            if (r != Resource.ANY &amp;&amp; r != Resource.FAITH &amp;&amp; r != Resource.WHITE) {</b>
<b class="fc"><i>307</i>&nbsp;                if (printedOne)</b>
<b class="fc"><i>308</i>&nbsp;                    listResources.append(&quot;, &quot;);</b>
<i>309</i>&nbsp;                else
<b class="fc"><i>310</i>&nbsp;                    printedOne = true;</b>
<b class="fc"><i>311</i>&nbsp;                listResources.append(r.toString());</b>
<i>312</i>&nbsp;            }
<i>313</i>&nbsp;        }
<b class="fc"><i>314</i>&nbsp;        return listResources.toString();</b>
<i>315</i>&nbsp;    }
<i>316</i>&nbsp;
<i>317</i>&nbsp;    /**
<i>318</i>&nbsp;     *Prints on the terminal that the player of turn has changed
<i>319</i>&nbsp;     * @param playerID unique identifier of the player that is now in turn
<i>320</i>&nbsp;     */
<i>321</i>&nbsp;    public synchronized void notifyTurnChanged(int playerID){
<b class="fc"><i>322</i>&nbsp;        if (playerID == model.getLocalPlayerId()){</b>
<b class="fc"><i>323</i>&nbsp;            System.out.println(Color.colourText(&quot;\n\n=========================== Now it&#39;s your turn! ===========================\n&quot;, &quot;RED&quot;));</b>
<i>324</i>&nbsp;        } else {
<b class="fc"><i>325</i>&nbsp;            System.out.println(Color.colourText(&quot;\n\n*************************** Now it&#39;s &quot; +</b>
<b class="fc"><i>326</i>&nbsp;                    (playerID == 0 ? &quot;Lorenzo&quot; : model.getPlayerFromId(playerID).getUsername()) +</b>
<i>327</i>&nbsp;                    &quot; turn! ***************************\n&quot;, &quot;RED&quot;));
<i>328</i>&nbsp;        }
<b class="fc"><i>329</i>&nbsp;    }</b>
<i>330</i>&nbsp;
<i>331</i>&nbsp;    /**
<i>332</i>&nbsp;     *Prints on the terminal that a player moved on the faith track
<i>333</i>&nbsp;     * @param playerID unique identifier of the player that moved on the track
<i>334</i>&nbsp;     */
<i>335</i>&nbsp;    public synchronized void notifyFaithTrackPositionChange(int playerID){
<b class="fc"><i>336</i>&nbsp;        System.out.println(Color.colourText(model.getPlayerFromId(playerID).getUsername(),&quot;CYAN&quot;) +</b>
<i>337</i>&nbsp;                &quot;&#39;s position on the faith track is changed&quot;);
<b class="fc"><i>338</i>&nbsp;    }</b>
<i>339</i>&nbsp;
<i>340</i>&nbsp;    /**
<i>341</i>&nbsp;     *Prints on the terminal that the state of some Pope favor card of a player is changed
<i>342</i>&nbsp;     * @param playerID unique identifier of the player whose Pope favor cards
<i>343</i>&nbsp;     *                 state is changed
<i>344</i>&nbsp;     */
<i>345</i>&nbsp;    public synchronized void notifyPopeFavorCardChange(int playerID){
<b class="fc"><i>346</i>&nbsp;        System.out.println(&quot;There is something new with &quot; +</b>
<b class="fc"><i>347</i>&nbsp;                Color.colourText(model.getPlayerFromId(playerID).getUsername(),&quot;CYAN&quot;) +</b>
<i>348</i>&nbsp;                &quot;&#39;s pope favor cards&quot;);
<b class="fc"><i>349</i>&nbsp;    }</b>
<i>350</i>&nbsp;
<i>351</i>&nbsp;    /**
<i>352</i>&nbsp;     *Prints on the terminal that the content of the strongbox of a player is changed
<i>353</i>&nbsp;     * @param playerId unique identifier of the player whose strongbox content is changed
<i>354</i>&nbsp;     */
<i>355</i>&nbsp;    public synchronized void notifyStrongBoxChange(int playerId){
<b class="fc"><i>356</i>&nbsp;        System.out.println(Color.colourText(model.getPlayerFromId(playerId).getUsername(), &quot;YELLOW&quot;)+</b>
<b class="fc"><i>357</i>&nbsp;                &quot; has moved some resources! The content of the &quot;+ Color.colourText(&quot;strongbox&quot;,&quot;YELLOW&quot;) +&quot; has changed&quot;);</b>
<b class="fc"><i>358</i>&nbsp;    }</b>
<i>359</i>&nbsp;
<i>360</i>&nbsp;    /**
<i>361</i>&nbsp;     *Prints on the terminal that the content of a shelf of a player is changed
<i>362</i>&nbsp;     * @param playerId unique identifier of the player whose shelf content is changed
<i>363</i>&nbsp;     * @param numShelf capacity of the shelf whose content is changed
<i>364</i>&nbsp;     */
<i>365</i>&nbsp;    public synchronized void notifyShelvesChange(int playerId, int numShelf){
<b class="fc"><i>366</i>&nbsp;        System.out.println(Color.colourText(model.getPlayerFromId(playerId).getUsername(), &quot;YELLOW&quot;)+</b>
<b class="fc"><i>367</i>&nbsp;                &quot; has moved some resources! The content of the &quot;+ Color.colourText(&quot;shelf&quot;, &quot;YELLOW&quot;) +</b>
<b class="fc"><i>368</i>&nbsp;                &quot; of capacity &quot;+ Color.colourInt(numShelf, &quot;YELLOW&quot;)+&quot; has changed&quot;);</b>
<b class="fc"><i>369</i>&nbsp;    }</b>
<i>370</i>&nbsp;
<i>371</i>&nbsp;    /**
<i>372</i>&nbsp;     *Prints on the terminal that the content of the support container of a player is changed
<i>373</i>&nbsp;     * @param playerId unique identifier of the player whose support container content is changed
<i>374</i>&nbsp;     */
<i>375</i>&nbsp;    public synchronized void notifySupportContainerChange(int playerId){
<b class="fc"><i>376</i>&nbsp;        System.out.println(Color.colourText(model.getPlayerFromId(playerId).getUsername(), &quot;YELLOW&quot;)+</b>
<b class="fc"><i>377</i>&nbsp;                &quot; has moved some resources! The content of the &quot; + Color.colourText(&quot;support container&quot;,&quot;YELLOW&quot;) + &quot; has changed&quot;);</b>
<b class="fc"><i>378</i>&nbsp;    }</b>
<i>379</i>&nbsp;
<i>380</i>&nbsp;    /**
<i>381</i>&nbsp;     *Prints on the terminal that the content of a leader card with storage ability of a player is changed
<i>382</i>&nbsp;     * @param playerId unique identifier of the player whose leader card, with storage ability, content is changed
<i>383</i>&nbsp;     * @param cardId unique identifier of the leader card, with storage ability, whose content is changed
<i>384</i>&nbsp;     */
<i>385</i>&nbsp;    public synchronized void notifyChangeInLCStorage(int playerId, int cardId){
<b class="fc"><i>386</i>&nbsp;        System.out.println(Color.colourText(model.getPlayerFromId(playerId).getUsername(), &quot;YELLOW&quot;)+</b>
<i>387</i>&nbsp;                &quot; has moved some resources! The content of the leader card with id number &quot; +
<b class="fc"><i>388</i>&nbsp;                Color.colourInt(cardId, &quot;YELLOW&quot;) + &quot; has changed&quot;);</b>
<b class="fc"><i>389</i>&nbsp;    }</b>
<i>390</i>&nbsp;
<i>391</i>&nbsp;    /**
<i>392</i>&nbsp;     *Prints on the terminal that a player played a leader card
<i>393</i>&nbsp;     * @param playerId unique identifier of the player that played the leader card
<i>394</i>&nbsp;     * @param cardId unique identifier of the leader card played
<i>395</i>&nbsp;     */
<i>396</i>&nbsp;    public synchronized void notifyLeaderCardActivation(int playerId, int cardId){
<b class="fc"><i>397</i>&nbsp;        System.out.println(Color.colourText(model.getPlayerFromId(playerId).getUsername(), &quot;YELLOW&quot;) +</b>
<b class="fc"><i>398</i>&nbsp;                &quot; has just played the leader card with id number &quot; + Color.colourInt(cardId,&quot;YELLOW&quot;));</b>
<b class="fc"><i>399</i>&nbsp;    }</b>
<i>400</i>&nbsp;
<i>401</i>&nbsp;    /**
<i>402</i>&nbsp;     *Prints on the terminal that a player discarded a leader card
<i>403</i>&nbsp;     * @param playerId unique identifier of the player that discarded the leader card
<i>404</i>&nbsp;     * @param cardId unique identifier of the leader card discarded
<i>405</i>&nbsp;     */
<i>406</i>&nbsp;    public synchronized void notifyLeaderCardDiscard(int playerId, int cardId){
<b class="fc"><i>407</i>&nbsp;        System.out.println(Color.colourText(model.getPlayerFromId(playerId).getUsername(), &quot;YELLOW&quot;) +</b>
<b class="fc"><i>408</i>&nbsp;                &quot; has just discarded the leader card with id number &quot; + Color.colourInt(cardId,&quot;YELLOW&quot;));</b>
<b class="fc"><i>409</i>&nbsp;    }</b>
<i>410</i>&nbsp;
<i>411</i>&nbsp;    /**
<i>412</i>&nbsp;     *Prints on the terminal that a player bought a development card from the table
<i>413</i>&nbsp;     * @param playerId unique identifier of the player that bought the development card from the table
<i>414</i>&nbsp;     * @param cardId unique identifier of the development card bought
<i>415</i>&nbsp;     * @param slot number of slot identifying the one in which the player, with &quot;id&quot; equals to &quot;playerId&quot;,
<i>416</i>&nbsp;     *             put the development card, wit &quot;id&quot; number equals to &quot;cardId&quot;, bought.
<i>417</i>&nbsp;     *             The slots are considered having a positional number starting from zero and increasing
<i>418</i>&nbsp;     *             from left to right on the player&#39;s dashboard (so &quot;slot&quot; must be ranging from 0 to 2)
<i>419</i>&nbsp;     */
<i>420</i>&nbsp;    public synchronized void notifyDevCardPurchase(int playerId, int cardId, int slot){
<b class="fc"><i>421</i>&nbsp;        System.out.println(Color.colourText(model.getPlayerFromId(playerId).getUsername(), &quot;YELLOW&quot;) +</b>
<b class="fc"><i>422</i>&nbsp;                &quot; has just bought the development card with id number &quot; + Color.colourInt(cardId,&quot;YELLOW&quot;) +</b>
<b class="fc"><i>423</i>&nbsp;                &quot; and put it in his development slot number &quot; + Color.colourInt((slot+1),&quot;YELLOW&quot;));</b>
<b class="fc"><i>424</i>&nbsp;    }</b>
<i>425</i>&nbsp;
<i>426</i>&nbsp;    /**
<i>427</i>&nbsp;     *Prints on the terminal that the game is not started yet and a player is deciding on which leader card discard
<i>428</i>&nbsp;     * or which resource pick and where to put it
<i>429</i>&nbsp;     * @param playerId unique identifier id the player in turn (deciding)
<i>430</i>&nbsp;     */
<i>431</i>&nbsp;    public synchronized void waitingInitialisation(int playerId){
<b class="fc"><i>432</i>&nbsp;        if (playerId != 0)</b>
<b class="fc"><i>433</i>&nbsp;            System.out.println(&quot;Please wait, &quot;+ Color.colourText(model.getPlayerFromId(playerId).getUsername(), &quot;CYAN&quot;) + &quot; is deciding!&quot;);</b>
<b class="fc"><i>434</i>&nbsp;    }</b>
<i>435</i>&nbsp;
<i>436</i>&nbsp;    /**
<i>437</i>&nbsp;     *Prints on the terminal that the match is started but the game is not started yet
<i>438</i>&nbsp;     * since the initialization should be completed first
<i>439</i>&nbsp;     */
<i>440</i>&nbsp;    public synchronized void notifyInitializationStarted(){
<b class="fc"><i>441</i>&nbsp;        System.out.println(Color.colourText(&quot;Before starting the game let&#39;s set everything up! Please wait until it&#39;s your turn, now it is &quot;</b>
<b class="fc"><i>442</i>&nbsp;                + model.getUsernames().get(0)+&quot;&#39;s...&quot;, &quot;CYAN&quot;));</b>
<b class="fc"><i>443</i>&nbsp;    }</b>
<i>444</i>&nbsp;
<i>445</i>&nbsp;    /**
<i>446</i>&nbsp;     *Prints on the terminal that a player commit an error while selecting a card (leader or development card)
<i>447</i>&nbsp;     * @param error text associated with the error occurred while selecting
<i>448</i>&nbsp;     * @param cardId the unique identifier of the card that was not possible to select since an error occurred
<i>449</i>&nbsp;     */
<i>450</i>&nbsp;    public synchronized void printSelectionError(String error, int cardId){
<b class="fc"><i>451</i>&nbsp;        printError(error);</b>
<b class="fc"><i>452</i>&nbsp;        System.out.println(Color.colourText(&quot;An error occurred while trying to select the card with id number&quot; + cardId, &quot;RED&quot;));</b>
<b class="fc"><i>453</i>&nbsp;    }</b>
<i>454</i>&nbsp;
<i>455</i>&nbsp;    /**
<i>456</i>&nbsp;     *Prints on terminal the effect of the action token picked during Lorenzo&#39;s turn
<i>457</i>&nbsp;     * @param actionTokenType solo action token picked from the top of the stack during Lorenzo&#39;s turn
<i>458</i>&nbsp;     */
<i>459</i>&nbsp;    public synchronized void notifyActionTokenDraw(ActionTokenType actionTokenType){
<b class="fc"><i>460</i>&nbsp;        System.out.println(&quot;During Lorenzo&#39;s turn, the top solo action token, from the stack, was picked and here is it&#39;s effect:\n&quot; +</b>
<b class="fc"><i>461</i>&nbsp;                &quot;\t\t&quot; + ActionTokenType.getEffectString(actionTokenType));</b>
<b class="fc"><i>462</i>&nbsp;    }</b>
<i>463</i>&nbsp;
<i>464</i>&nbsp;    /**
<i>465</i>&nbsp;     *Prints on the terminal that the game is over and someone won (and, of course, someone lost)
<i>466</i>&nbsp;     * @param winnerId unique identifier of the player that won this match
<i>467</i>&nbsp;     */
<i>468</i>&nbsp;    public synchronized void printWinner(int winnerId){
<b class="fc"><i>469</i>&nbsp;        if (model.getLocalPlayerId() == winnerId) {</b>
<b class="fc"><i>470</i>&nbsp;            System.out.println(Color.colourText(&quot;\n&quot; +</b>
<i>471</i>&nbsp;                    &quot;???   ?    ????????  ???    ??        ??     ??   ??  ???????   \n&quot; +
<i>472</i>&nbsp;                    &quot;???   ??? ???    ??? ???    ???      ???     ??? ???  ????????? \n&quot; +
<i>473</i>&nbsp;                    &quot;????????? ???    ??? ???    ???      ???     ??? ???? ???   ??? \n&quot; +
<i>474</i>&nbsp;                    &quot;????????? ???    ??? ???    ???      ???     ??? ???? ???   ??? \n&quot; +
<i>475</i>&nbsp;                    &quot;???   ??? ???    ??? ???    ???      ???     ??? ???? ???   ??? \n&quot; +
<i>476</i>&nbsp;                    &quot;???   ??? ???    ??? ???    ???      ???     ??? ???  ???   ??? \n&quot; +
<i>477</i>&nbsp;                    &quot;???   ??? ???    ??? ???    ???      ??? ??? ??? ???  ???   ??? \n&quot; +
<i>478</i>&nbsp;                    &quot; ???????   ????????  ?????????        ?????????  ??    ??   ??  \n&quot; +
<i>479</i>&nbsp;                    &quot;                                                                \n&quot;, &quot;GREEN&quot;));
<i>480</i>&nbsp;        } else {
<b class="fc"><i>481</i>&nbsp;            System.out.println(Color.colourText(&quot;\n&quot; +</b>
<i>482</i>&nbsp;                    &quot;???   ?    ????????  ???    ??        ??        ????????     ?????????     ???     \n&quot; +
<i>483</i>&nbsp;                    &quot;???   ??? ???    ??? ???    ???      ???       ???    ???   ???    ??? ??????????? \n&quot; +
<i>484</i>&nbsp;                    &quot;????????? ???    ??? ???    ???      ???       ???    ???   ???    ??     ???????? \n&quot; +
<i>485</i>&nbsp;                    &quot;????????? ???    ??? ???    ???      ???       ???    ???   ???            ???   ? \n&quot; +
<i>486</i>&nbsp;                    &quot;???   ??? ???    ??? ???    ???      ???       ???    ??? ????????????     ???     \n&quot; +
<i>487</i>&nbsp;                    &quot;???   ??? ???    ??? ???    ???      ???       ???    ???          ???     ???     \n&quot; +
<i>488</i>&nbsp;                    &quot;???   ??? ???    ??? ???    ???      ????    ? ???    ???    ??    ???     ???     \n&quot; +
<i>489</i>&nbsp;                    &quot; ???????   ????????  ?????????       ?????????  ????????   ??????????     ??????   \n&quot; +
<i>490</i>&nbsp;                    &quot;                                     ?                                             \n\n&quot;,&quot;RED&quot;));
<b class="fc"><i>491</i>&nbsp;            System.out.println(&quot;The winner is: &quot; +</b>
<b class="fc"><i>492</i>&nbsp;                    Color.colourText(model.getPLayersID().size() == 1 ? &quot;LORENZO IL MAGNIFICO&quot; : model.getPlayerFromId(winnerId).getUsername() ,&quot;GREEN&quot;) +</b>
<b class="fc"><i>493</i>&nbsp;                    (model.getUsernames().size() == 1 ? &quot;&quot; : &quot; (with id number: &quot;+ winnerId +&quot;)&quot;));</b>
<i>494</i>&nbsp;        }
<b class="fc"><i>495</i>&nbsp;    }</b>
<i>496</i>&nbsp;
<i>497</i>&nbsp;    /**
<i>498</i>&nbsp;     *Prints on the terminal that the game is started so the initialization part is over
<i>499</i>&nbsp;     */
<i>500</i>&nbsp;    public synchronized void gameStarted(){
<b class="fc"><i>501</i>&nbsp;        System.out.println(Color.colourText(&quot;\n&quot; +</b>
<i>502</i>&nbsp;                &quot;   ????????     ?????????   ???????????      ?????????         ?????????     ???        ?????????    ?????????     ???        ????????? ?????????  \n&quot; +
<i>503</i>&nbsp;                &quot;  ???    ???   ???    ??? ???????????????   ???    ???        ???    ??? ???????????   ???    ???   ???    ??? ???????????   ???    ??? ???   ???? \n&quot; +
<i>504</i>&nbsp;                &quot;  ???    ??    ???    ??? ???   ???   ???   ???    ??         ???    ??     ????????   ???    ???   ???    ???    ????????   ???    ??  ???    ??? \n&quot; +
<i>505</i>&nbsp;                &quot; ????          ???    ??? ???   ???   ???  ???????            ???            ???   ?   ???    ???  ???????????     ???   ?  ???????     ???    ??? \n&quot; +
<i>506</i>&nbsp;                &quot;????? ?????  ???????????? ???   ???   ??? ????????          ????????????     ???     ???????????? ??????????       ???     ????????     ???    ??? \n&quot; +
<i>507</i>&nbsp;                &quot;  ???    ???   ???    ??? ???   ???   ???   ???    ??                ???     ???       ???    ??? ????????????     ???       ???    ??  ???    ??? \n&quot; +
<i>508</i>&nbsp;                &quot;  ???    ???   ???    ??? ???   ???   ???   ???    ???         ??    ???     ???       ???    ???   ???    ???     ???       ???    ??? ???   ???? \n&quot; +
<i>509</i>&nbsp;                &quot;  ?????????    ???    ??   ??   ???   ??    ??????????       ??????????     ??????     ???    ??    ???    ???    ??????     ?????????? ?????????  \n&quot; +
<i>510</i>&nbsp;                &quot;                                                                                                    ???    ???                                     \n\n\n&quot;,&quot;CYAN&quot;));
<b class="fc"><i>511</i>&nbsp;    }</b>
<i>512</i>&nbsp;}
</div>
</div>

<div class="footer">
    
    <div style="float:right;">generated on 2021-07-02 14:15</div>
</div>
</body>
</html>
